var o=[{id:1,text:"Learn Next-Lite",completed:!1},{id:2,text:"Build an app",completed:!1}];module.exports={get(s,t){t.json(o)},post(s,t){let{text:e}=s.body;if(!e)return t.status(400).json({error:"Text is required"});let n={id:o.length+1,text:e,completed:!1};o.push(n),t.status(201).json(n)},put(s,t){let{id:e,completed:n}=s.body;if(typeof e!="number"||typeof n!="boolean")return t.status(400).json({error:"Invalid request body"});let d=o.find(r=>r.id===e);if(!d)return t.status(404).json({error:"Todo not found"});d.completed=n,t.json(d)},del(s,t){let e=parseInt(s.query.id);if(isNaN(e))return t.status(400).json({error:"Invalid ID"});let n=o.length;if(o=o.filter(d=>d.id!==e),o.length===n)return t.status(404).json({error:"Todo not found"});t.status(204).send("")}};
